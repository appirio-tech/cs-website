(function(){function b(b){return function(c){a+=b}}function c(){var b=parseInt(a);return a="",b||1}function d(a){return typeof a=="string"&&(a=CodeMirror.commands[a]),function(b){for(var d=0,e=c();d<e;++d)a(b)}}function e(a,b){for(var c in a)a.hasOwnProperty(c)&&b(c,a[c])}function h(a,b,c,d){var e=0,f=-1;c>0&&(e=a.length,f=0);var g=e,h=e;i:for(;b!=e;b+=c)for(var j=0;j<d.length;++j)if(d[j].test(a.charAt(b+f))){g=b;for(;b!=e;b+=c)if(!d[j].test(a.charAt(b+f)))break;h=b;break i}return{from:Math.min(g,h),to:Math.max(g,h)}}function i(a,b,c,d){var e=a.getCursor(),f=e.ch,g=a.getLine(e.line),i;for(;;){i=h(g,f,c,b),f=i[d=="end"?"to":"from"];if(f==e.ch&&i.from!=i.to)f=i[c<0?"from":"to"];else break}a.setCursor(e.line,i[d=="end"?"to":"from"],!0)}var a="",f=[/\w/,/[^\w\s]/],g=[/\S/],j=CodeMirror.keyMap.vim={0:function(c){a.length>0?b("0")(c):CodeMirror.commands.goLineStart(c)},I:function(a){c(),a.setOption("keyMap","vim-insert")},G:function(a){a.setOption("keyMap","vim-prefix-g")},catchall:function(a){}};for(var k=1;k<10;++k)j[k]=b(k);e({H:"goColumnLeft",L:"goColumnRight",J:"goLineDown",K:"goLineUp",Left:"goColumnLeft",Right:"goColumnRight",Down:"goLineDown",Up:"goLineUp",Backspace:"goCharLeft",Space:"goCharRight",B:function(a){i(a,f,-1,"end")},E:function(a){i(a,f,1,"end")},W:function(a){i(a,f,1,"start")},"Shift-B":function(a){i(a,g,-1,"end")},"Shift-E":function(a){i(a,g,1,"end")},"Shift-W":function(a){i(a,g,1,"start")},U:"undo","Ctrl-R":"redo","Shift-4":"goLineEnd"},function(a,b){j[a]=d(b)}),CodeMirror.keyMap["vim-prefix-g"]={E:d(function(a){i(a,f,-1,"start")}),"Shift-E":d(function(a){i(a,g,-1,"start")}),auto:"vim",catchall:function(a){}},CodeMirror.keyMap["vim-insert"]={Esc:function(a){a.setOption("keyMap","vim")},fallthrough:["default"]}})()